<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/6/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternative" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Python随机汉字" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/26/Python随机汉字/" class="article-date">
  <time datetime="2017-03-26T07:32:46.000Z" itemprop="datePublished">2017-03-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>title:Python随机汉字<br>date:2016-02-09 02:40:17<br><code>&gt;&gt;&gt; chr(random.randrange(0x4E00,0x9FFF))</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/26/Python随机汉字/" data-id="cj0ryfuag001ec6otinvasaq7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Qt &quot;QSqlDataBase file not found&quot;错误解决" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/26/Qt "QSqlDataBase file not found"错误解决/" class="article-date">
  <time datetime="2017-03-26T07:32:46.000Z" itemprop="datePublished">2017-03-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>title:Qt “QSqlDataBase file not found”错误解决<br>date:2016-04-30 03:36:51<br>今天在使用Qt调用sqlite时，出现了这样的错误，</p>
<p>解决方案：<br>在项目对应的pro文件中加入</p>
<p>QT += sql</p>
<p>即可</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/26/Qt "QSqlDataBase file not found"错误解决/" data-id="cj0ryfuah001fc6otf8v7llww" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-QT :error: symbol(s) not found for architecture x86_64" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/26/QT :error: symbol(s) not found for architecture x86_64/" class="article-date">
  <time datetime="2017-03-26T07:32:46.000Z" itemprop="datePublished">2017-03-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>title:QT :error: symbol(s) not found for architecture x86_64<br>date:2016-05-06 11:26:00<br>今天遇到这个错误，原因是因为没有在对应的类方法实现之前加『类名::』。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/26/QT :error: symbol(s) not found for architecture x86_64/" data-id="cj0ryfuai001gc6ot73tnv0lc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-ThinkPHP：_STORAGE_WRITE_ERROR_" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/26/ThinkPHP：_STORAGE_WRITE_ERROR_/" class="article-date">
  <time datetime="2017-03-26T07:32:46.000Z" itemprop="datePublished">2017-03-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>title:ThinkPHP：_STORAGE_WRITE<em>ERROR</em><br>date:2016-03-23 11:01:13<br>_STORAGE_WRITE<em>ERROR</em>出现错误的时刻是从本地将代码迁移到服务器时，只要把runtime/Cache目录下对应模块的临时文件清除就好了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/26/ThinkPHP：_STORAGE_WRITE_ERROR_/" data-id="cj0ryfuai001hc6ottfxjanf6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Ubuntu 安装vncserver" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/26/Ubuntu 安装vncserver/" class="article-date">
  <time datetime="2017-03-26T07:32:46.000Z" itemprop="datePublished">2017-03-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>title:Ubuntu 安装vncserver<br>date:2016-04-07 03:13:02<br>1.升级依赖并安装xface桌面和vncserver</p>
<pre><code>sudo apt-get update
sudo apt-get install xfce4 xfce4-goodies tightvncserver
</code></pre><p>2.运行：vncserver，设置密码<br>3.配置vncserver：</p>
<p>vncserver -kill :1</p>
<p>mv ~/.vnc/xstartup ~/.vnc/xstartup.bak</p>
<p>nano ~/.vnc/xstartup</p>
<pre><code>#!/bin/bash
xrdb $HOME/.Xresources
startxfce4 &amp;
</code></pre><p>sudo chmod +x ~/.vnc/xstartup</p>
<p>sudo nano /etc/init.d/vncserver</p>
<pre><code>#!/bin/bash
PATH=&quot;$PATH:/usr/bin/&quot;
export USER=&quot;user&quot;
DISPLAY=&quot;1&quot;
DEPTH=&quot;16&quot;
GEOMETRY=&quot;1024x768&quot;
OPTIONS=&quot;-depth ${DEPTH} -geometry ${GEOMETRY} :${DISPLAY} -localhost&quot;
. /lib/lsb/init-functions
</code></pre><p>完成一系列命令后，重启电脑，连接目标ip的1号端口xxx.xxx.xxx.x:1即可</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/26/Ubuntu 安装vncserver/" data-id="cj0ryfuak001ic6otucjqs00e" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Ubuntu搭建http代理服务器" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/26/Ubuntu搭建http代理服务器/" class="article-date">
  <time datetime="2017-03-26T07:32:46.000Z" itemprop="datePublished">2017-03-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>title:Ubuntu搭建http代理服务器<br>date:2016-02-11 07:19:36</p>
<ul>
<li><p>1.sudo apt-get install squid</p>
</li>
<li><p>2.编辑配置文件：vim /etc/squid3/squid.conf</p>
</li>
</ul>
<p>查找http_access deny all<br>将http_access deny all前面加上#注释 添加<br>http_access allow all</p>
<ul>
<li>3.输入squid3启动 默认端口 3128</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/26/Ubuntu搭建http代理服务器/" data-id="cj0ryfual001jc6otppkbh4vt" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-ValueError: unknown locale: UTF-8" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/26/ValueError: unknown locale: UTF-8/" class="article-date">
  <time datetime="2017-03-26T07:32:46.000Z" itemprop="datePublished">2017-03-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>title:ValueError: unknown locale: UTF-8<br>date:2016-07-19 14:30:07<br>今天在Python3中import matplotlib时，出现了</p>
<p>ValueError: unknown locale: UTF-8的错误。</p>
<p>export LC_ALL=en_US.UTF-8</p>
<p>export LANG=en_US.UTF-8</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/26/ValueError: unknown locale: UTF-8/" data-id="cj0ryfuan001kc6otiaxn4re8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Welcome to Ghost" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/26/Welcome to Ghost/" class="article-date">
  <time datetime="2017-03-26T07:32:46.000Z" itemprop="datePublished">2017-03-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>title:welcome to ghost<br>date:2016-03-31 06:53:36<br>123</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/26/Welcome to Ghost/" data-id="cj0ryfuan001lc6otttud1mye" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-ZeroNet搭建全球网站" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/26/ZeroNet搭建全球网站/" class="article-date">
  <time datetime="2017-03-26T07:32:46.000Z" itemprop="datePublished">2017-03-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>title:ZeroNet搭建全球网站<br>date:2016-07-29 04:39:01<br>ZeroNet是一个利用比特币加密和BT技术提供不受审查的网络与通信的BT平台，ZeroNet网络功能已经得到完整的种子的支持和加密连接，保证用户通信和文件共享的安全。使用ZeroNet，你可以匿名上网，你可以在自己电脑搭建网站，但即使你关机，你的网站依然在全球存在，别人无法关闭你的网站。</p>
<p>　　什么是ZeroNet</p>
<p>　　ZeroNet是一个去中心化的类似于Internet的网络，由匈牙利的开发者使用Python制作，完全开源。网站由特殊的”ZeroNet URL”可以被使用一般的浏览器通过ZeroNet程序浏览，就像访问本地主机一样。ZeroNet默认并「不」匿名，但是用户可以通过内置的Tor功能进行匿名化。ZeroNet使用Bitcoin加密算法及BitTorrent网络。</p>
<p>　　防DMCA Take down</p>
<p>　　由于ZeroNet去中心化的原因，国外有人制作了一个ZeroNet版本的海盗湾——Play，这个网站可让版权所有者头疼啦…一般的网站服务器都有IP地址，不抗投诉的ISP收到了向IP WHOIS滥用信箱发送的DMCA投诉信的话，你就要和你的网站说再见了..(俗称 DMCA Take down)，可用了ZeroNet后，并没有一台服务器是真实的服务器，任何访客都有可能成为服务器，还有些访客使用了Tor，更找不到真正的。</p>
<p>使用ZeroNet的特点<br>1.可以建自己的网站，你基本上不用做什么。</p>
<p>　　2.基于p2p原理，你只要建好并有人浏览过，即使你自己关机，你的网站依然在全球存在。别人想关你站，没门。</p>
<p>　　3.基于p2p原理，支付内网穿透，也就是说你在内网也没关系，手机也没问题。</p>
<p>　　4.基于比特币原理，账号很安全，谁也不知道你是谁，谁也盗不去。</p>
<p>　　5.不需要域名，任何人访问都使用<a href="http://127.0.0.1:43110/字符串" target="_blank" rel="external">http://127.0.0.1:43110/字符串</a> 来访问。</p>
<p>　　6.不用gg fb和tt你就能浏览全世界</p>
<p>好了，不说了，下面开始动工：</p>
<p>项目地址：该项目的官方网址为: <a href="https://github.com/hellozeronet/zeronet" target="_blank" rel="external">https://github.com/hellozeronet/zeronet</a></p>
<p>项目支持 windows ，linux ，MacOS，<br>下载包:<br>Microsoft Windows<br>Apple OS X<br>Linux 64bit<br>Linux 32bit<br>由于提供下载链接github一会就失效了，大家上网站上下载吧，下载地址：<br>链接: <a href="http://pan.baidu.com/s/1slOhSx3" target="_blank" rel="external">http://pan.baidu.com/s/1slOhSx3</a> 密码: 4nqa<br>下载压缩包后解压<br>windows 运行，其他平台类似 ZeroNet.cmd (win), ZeroNet(.app) (osx), ZeroNet.sh (linux)</p>
<p>部分资源，需要的可以上聊天室里面去找：</p>
<p>海盗湾全球种子站：<a href="http://127.0.0.1:43110/1PLAYgDQboKojowD3kwdb3CtWmWaokXvfp/" target="_blank" rel="external">http://127.0.0.1:43110/1PLAYgDQboKojowD3kwdb3CtWmWaokXvfp/</a><br>MSDN资源区：<a href="http://127.0.0.1:43110/1AJB5rtjfB9imjDGVk5vtRtZp3zgYizbpG/" target="_blank" rel="external">http://127.0.0.1:43110/1AJB5rtjfB9imjDGVk5vtRtZp3zgYizbpG/</a><br>Kindle电子书：<a href="http://127.0.0.1:43110/1KHCBG6dmbKXTZNenfwhWZ5x3oDyYyHSD4" target="_blank" rel="external">http://127.0.0.1:43110/1KHCBG6dmbKXTZNenfwhWZ5x3oDyYyHSD4</a></p>
<p>导航：<a href="http://127.0.0.1:43110/1NzWeweqJ32aRVdM5UzFnYCszuvG5xV3vS" target="_blank" rel="external">http://127.0.0.1:43110/1NzWeweqJ32aRVdM5UzFnYCszuvG5xV3vS</a></p>
<p>ZeroNet站点集合 &amp; 搜索引擎<br>站点集合<br><a href="http://127.0.0.1:43110/138R53t3Z" target="_blank" rel="external">http://127.0.0.1:43110/138R53t3Z</a> … ?Page:list-of-zites<br>( 中文翻译在这里 )<br><a href="http://127.0.0.1:43110/zaphods.bit/RM.html" target="_blank" rel="external">http://127.0.0.1:43110/zaphods.bit/RM.html</a><br><a href="http://127.0.0.1:43110/0list.bit/" target="_blank" rel="external">http://127.0.0.1:43110/0list.bit/</a><br><a href="http://127.0.0.1:43110/1Dt7FR5aNLkqAjmosWh8cMWzJu633GYN6u/" target="_blank" rel="external">http://127.0.0.1:43110/1Dt7FR5aNLkqAjmosWh8cMWzJu633GYN6u/</a><br>搜索引擎<br><a href="http://127.0.0.1:43110/kaffiene.bit" target="_blank" rel="external">http://127.0.0.1:43110/kaffiene.bit</a><br><a href="http://127.0.0.1:43110/zerosearch.bit/" target="_blank" rel="external">http://127.0.0.1:43110/zerosearch.bit/</a><br><a href="http://127.0.0.1:43110/zerofind.bit" target="_blank" rel="external">http://127.0.0.1:43110/zerofind.bit</a><br>公用开放ZeroNet代{过}{滤}理集合（注意，这些代{过}{滤}理不能确保你的帐号安全）<br><a href="http://127.0.0.1:43110/ZeroProxies.bit" target="_blank" rel="external">http://127.0.0.1:43110/ZeroProxies.bit</a><br>聊天室集合<br><a href="http://127.0.0.1:43110/zerochatrooms.bit" target="_blank" rel="external">http://127.0.0.1:43110/zerochatrooms.bit</a><br>博客集合<br><a href="http://127.0.0.1:43110/zeroblogs.bit" target="_blank" rel="external">http://127.0.0.1:43110/zeroblogs.bit</a><br>ZeroNet官方帮助集合<br><a href="http://127.0.0.1:43110/ZeroSupport.bit" target="_blank" rel="external">http://127.0.0.1:43110/ZeroSupport.bit</a></p>
<p>其它的，自己撸去吧。</p>
<p>原文链接：<a href="http://jwangkun.github.io/2016/04/18/ZeroNet搭建全球网站/" target="_blank" rel="external">http://jwangkun.github.io/2016/04/18/ZeroNet搭建全球网站/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/26/ZeroNet搭建全球网站/" data-id="cj0ryfuap001mc6otozqzv0iu" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Whoosh 2.5.6 文档" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/26/Whoosh 2.5.6 文档/" class="article-date">
  <time datetime="2017-03-26T07:32:46.000Z" itemprop="datePublished">2017-03-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>title:Whoosh 2.5.6 文档<br>date:2016-01-22 15:37:33</p>
<p>原地址：<a href="http://pythonhosted.org/Whoosh/index.html" target="_blank" rel="external">http://pythonhosted.org/Whoosh/index.html</a></p>
<p>译者：Radish</p>
<p><strong>Whoosh</strong>的作者是Matt Chaput。你可以在 Whoosh <a href="http://bitbucket.org/mchaput/whoosh" target="_blank" rel="external">Bitbucket页面</a>上看到很多杰出的问题也可以通过<a href="http://groups.google.com/group/whoosh" target="_blank" rel="external">Whoosh邮件列表</a>来获得帮助.</p>
<p>===========================</p>
<p>##快速开始</p>
<p>Whoosh是一个包含用来创建索引和检索的类和函数库。它能够让你开发迎合你自己内容的搜索引擎。举个栗子，如果你创建了一个博客软件，你可以用Whoosh来添加一个搜索用户和博客内容的功能。</p>
<p>###一个简单的实例：</p>
<pre><code>&gt;&gt;&gt; from whoosh.index import create_in
&gt;&gt;&gt; from whoosh.fields import *
&gt;&gt;&gt; schema = Schema(title=TEXT(stored=True),     path=ID(stored=True), content=TEXT)
&gt;&gt;&gt; ix = create_in(&quot;indexdir&quot;, schema)
&gt;&gt;&gt; writer = ix.writer()
&gt;&gt;&gt; writer.add_document(title=u&quot;First document&quot;, path=u&quot;/a&quot;,
...                     content=u&quot;This is the first document we&apos;ve added!&quot;)
&gt;&gt;&gt; writer.add_document(title=u&quot;Second document&quot;, path=u&quot;/b&quot;,
...                     content=u&quot;The second one is even more interesting!&quot;)
&gt;&gt;&gt; writer.commit()
&gt;&gt;&gt; from whoosh.qparser import QueryParser
&gt;&gt;&gt; with ix.searcher() as searcher:
...     query = QueryParser(&quot;content&quot;, ix.schema).parse(&quot;first&quot;)
...     results = searcher.search(query)
...     results[0]
...
{&quot;title&quot;: u&quot;First document&quot;, &quot;path&quot;: u&quot;/a&quot;}
</code></pre><p>###索引对象：<br>如果想使用Whoosh，你需要一个索引对象。当你第一次使用它时，你必须定义索引。这份索引包含了你的关键词列表。字段是每个在索引中的文档信息，类似于文章的标题和内容。一个字段可以被索引（能够被搜索到）或者被存储（在被搜索到时作为内容返回）。</p>
<p>本实例中的索引包含两个字段：“title”和“content”</p>
<pre><code>from whoosh.fields import Schema,TEXT
schema = Schema(title=TEXT,content=TEXT)
</code></pre><p>你只要做一次索引，在你创建它的时候。<br>当你创建索引对象，你使用关键词参数映射的字段类型。索引和类型列表会定义什么是可以被搜索的。Whoosh预定义了一些非常有用的类型，这让你可以非常简单的创建自己的程序。</p>
<p><em>whoosh.fields.ID</em></p>
<p>这种类型的索引是独立的（它不能被拆开成单独的字）通常用整个值来作为标识。</p>
<p><em>whoosh.fields.STORED</em></p>
<p>这种字段是用文档来存储的，但是不会被索引。这种字段类型不能被索引也不能搜到，它的作用是给用户展示你的搜索结果信息。</p>
<p><em>whoosh.fields.TEXT</em></p>
<p>这种类型是作为文本的主体。它索引（也可选择的存储）了文本和条件位置来解析搜索语句。</p>
<p><em>whoosh.fields.NUMERIC</em></p>
<p>这种类型是数字，你可以存储整数或者浮点数。</p>
<p><em>whoosh.fields.BOOLEAN</em></p>
<p>这种类型是为了存储布尔（真/假）值。</p>
<p><em>whoosh.fields.DATETIME</em></p>
<p>这种类型是为了时间对象。请看<a href="http://pythonhosted.org/Whoosh/dates.html" target="_blank" rel="external">索引和解析时间</a>来获取更多的信息。</p>
<p><em>whoosh.fields.NGRAM and whoosh.fields.NGRAMWORDS</em></p>
<p>？？？？？？？</p>
<p>一旦你有了索引列表，你可以用<code>create_in</code>函数创建一个索引：</p>
<pre><code>import os.path
from whoosh.index import create_in
if not os.path.exists(&quot;index&quot;):
os.mkdir(&quot;index&quot;)
ix = create_in(&quot;index&quot;, schema)
</code></pre><p>当你创建完一个列表。你能够通过<code>open_dir</code>函数来打开它：<br>    from whoosh.index import open_dir<br>    ix = open_dir(“index”)</p>
<p>##IndexWriter对象</p>
<p>OK，我们以及创建了一个Index对象，现在我们可以开始添加文档了。Index对象中的writer()方法将返回你添加文档的IndexWriter对象。<code>add_document(**kwargs)</code>方法接收字段内容被索引的值：</p>
<pre><code>writer = ix.writer()
writer.add_document(title=u&quot;My document&quot;, content=u&quot;This is my document!&quot;,
                path=u&quot;/a&quot;, tags=u&quot;first short&quot;, icon=u&quot;/icons/star.png&quot;)
writer.add_document(title=u&quot;Second try&quot;, content=u&quot;This is the second example.&quot;,
                path=u&quot;/b&quot;, tags=u&quot;second short&quot;, icon=u&quot;/icons/sheep.png&quot;)
writer.add_document(title=u&quot;Third time&apos;s the charm&quot;, content=u&quot;Examples are many.&quot;,
                path=u&quot;/c&quot;, tags=u&quot;short&quot;, icon=u&quot;/icons/book.png&quot;)
writer.commit()
</code></pre><blockquote>
<p>你没必要为每个字段都添加值，在通过字段查找出文档后Whoosh就不在乎之后的事情了。</p>
</blockquote>
<p>在IndexWriter中调用<code>commit()</code>来保存你在索引中添加的文档:</p>
<pre><code>writer.commit()
</code></pre><p>###搜索对象：<br>为了开始搜索索引，我们需要一个搜索对象：</p>
<pre><code>searcher = ix.seacher()
</code></pre><p>你通常会想去打开<code>seacher</code>用with声明所以<code>seacher</code>是可以在你用完之后自动关闭的。</p>
<pre><code>with ix.searcher() as searcher:
</code></pre><p>这当然与下面的代码功能相等：</p>
<pre><code>try:
    searcher = ix.searcher()
...
finally:
        searcher.close()
</code></pre><p>这个搜索器的search()方法取用了一个查询对象。你可以直接构造这个查询对象或者用一个查询解析器来解析提交查询的字符串。</p>
<p>举个栗子，这个查询能够将在”content”中包括”apple”和”bear”的文档找出来：</p>
<pre><code>from whoosh.query import *
myquery = And([Term(&quot;content&quot;, u&quot;apple&quot;), Term(&quot;content&quot;, &quot;bear&quot;)])
</code></pre><p>为了解析搜索的字符串，你可以用在qparser模块中的缺省的查询解析器。QueryParser构造函数的第一个参数是主要的搜索字段。这通常是”body text”字段。第二个可选的参数是一个告诉Whoosh如何解析字段的索引列表：</p>
<pre><code>from whoosh.qparser import QueryParser
parser = QueryParser(&quot;content&quot;, ix.schema)
myquery = parser.parse(querystring)    
</code></pre><p>一旦你获得了一个搜索器和一个查询的对象，你可以用搜索器的search()方法去运行和获得结果对象。</p>
<pre><code>&gt;&gt;&gt; results = searcher.search(myquery)
&gt;&gt;&gt; print(len(results))
1
&gt;&gt;&gt; print(results[0])
{&quot;title&quot;: &quot;Second try&quot;, &quot;path&quot;: &quot;/b&quot;, &quot;icon&quot;: &quot;/icons/sheep.png&quot;}
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/26/Whoosh 2.5.6 文档/" data-id="cj0ryfuaq001nc6ot2nnwgvbe" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/5/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/7/">Next &raquo;</a>
    </nav>
  
</section>
        
          <aside id="sidebar">
  
    
  
    
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">173</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/03/26/c++ std::random_shuffle()实现/">(no title)</a>
          </li>
        
          <li>
            <a href="/2017/03/26/About/">(no title)</a>
          </li>
        
          <li>
            <a href="/2017/03/26/Ajax模板/">(no title)</a>
          </li>
        
          <li>
            <a href="/2017/03/26/Bing背景图片API/">(no title)</a>
          </li>
        
          <li>
            <a href="/2017/03/26/Django教程：创建投票App Part 2/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>